syntax = "proto3";

package canton;

message Empty {}

message Identifier {
  string package_id = 1;
  string module_name = 2;
  string entity_name = 3;
}

message Enum {
  Identifier enum_id = 1;
  string constructor = 2;
}

message Value {
  oneof sum {
    Empty unit = 1;
    bool boolean = 2;
    sint64 int64 = 3;
    int32 date = 4;
    sfixed64 timestamp = 5;
    string numeric = 6;
    string party = 7;
    string text = 8;
    string contract_id = 9;
    Optional optional = 10;
    List list = 11;
    TextMap text_map = 12;
    GenMap gen_map = 13;
    Record record = 14;
    Variant variant = 15;
    Enum enum_t = 16;
  }
}

message Record {
  Identifier record_id = 1;
  repeated RecordField fields = 2;
}

message RecordField {
  string label = 1;
  Value value = 2;
}

message Variant {
  Identifier variant_id = 1;
  string constructor = 2;
  Value value = 3;
}

message List {
  repeated Value elements = 1;
}

message Optional {
  Value value = 1;
}

message TextMap {
  message Entry {
    string key = 1;
    Value value = 2;
  }

  repeated Entry entries = 1;
}

message GenMap {
  message Entry {
    Value key = 1;
    Value value = 2;
  }

  repeated Entry entries = 1;
}
